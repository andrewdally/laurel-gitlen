%ul#artists.list-unstyled
	- @artists.each do |artist|
		%li=link_to artist.name, artist_url(artist), id: "#{artist.name.gsub(/\s+/, "")}", class: "artist-link"
#canvas
#random-images
	-@artists.each do |artist|
		=image_tag artist.pieces.first.image.url(:thumb), class: "#{artist.name.gsub(/\s+/, "")}-img" unless artist.pieces.blank?

:javascript
	$('#random-images img').one('load', function () {
		do {
			var randomnumber = Math.ceil(Math.random() * 200 + 80);

			$(this).resize({
				maxHeight: randomnumber
			});

			var imgClass = $(this).attr("class"), 
				imgWidth = $(this).width(),
				imgHeight = $(this).height(),
				posx = (Math.random() * ($(document).width() - imgWidth)).toFixed(),
				posy = (Math.random() * ($(document).height() - imgHeight)).toFixed();
			
			$(this).css({
				"top": posy + "px",
				"left": posx + "px",
				"position":"fixed",
				"display":"none",
				"z-index":"-1"
			}).data({
				"small-height": $(this).height(),
				"small-width": $(this).width(),
				"small-top": posy,
				"small-left": posx
			}).appendTo("#canvas");
		}
		while ($("#canvas").find("img").overlaps().length !== 0);

	}).each(function () {
		if (this.complete) $(this).load();
	});
	
	$(".artist-link").mouseover(function(){
		$("." + $(this).attr("id") + "-img").fadeIn();
	});
	